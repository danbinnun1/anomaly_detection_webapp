{"code":"(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{207:function(e,t,n){\"use strict\";n.r(t);var o=n(0),r=n.n(o),a=n(18),i=n.n(a),c=n(31),s=n.n(c),l=n(59),d=n(7),u=n(6),b=n(84),h=n(224),j=n(221),f=n(43),p=n(2);function O(e){var t=Object(o.useState)(),n=Object(d.a)(t,2),r=n[0],a=n[1];if(void 0===e.data||0===e.data.length)return\"Please enter a file for training a model or for anomaly detection\";var i={labels:Array.from(Array(Object.values(e.data)[0].length).keys()),datasets:[]};if(void 0===r||void 0===e.anomalies||void 0!==e.anomalies&&void 0!==r&&0===e.anomalies[r].length)i.datasets.push({label:void 0===r?\"Please choose a property to show\":r,data:e.data[r],borderColor:\"gray\"});else if(void 0!==r&&e.anomalies[r].length>0){for(var c=Object(u.a)(e.anomalies[r]),s=0;s<c.length;++s)for(var l=0;l<c.length-s;++l)if(c[l].end<c[s].start){var O=c[s];c[s]=c[l],c[l]=O}var x=[0];c.forEach((function(e){x.push(e.start),x.push(e.end)})),x.push(e.data[r].length-1);for(var g=0;g<x.length-2;g+=2)i.datasets.push({label:r,data:Array(x[g]).fill(null).concat(e.data[r].slice(x[g],x[g+1])),borderColor:\"gray\"}),i.datasets.push({label:r,data:Array(x[g+1]).fill(null).concat(e.data[r].slice(x[g+1],x[g+2])),borderColor:\"red\"});i.datasets.push({label:void 0===r?\"Please choose a property to show\":r,data:Array(x[g]).fill(null).concat(e.data[r].slice(x[g],x[g+1])),borderColor:\"gray\"})}return Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(f.a,{height:400,width:210,itemSize:80,itemCount:Object.keys(e.data).length,children:function(t){var n=t.index,o=t.style;return Object(p.jsx)(h.a,{button:!0,selected:r===Object.keys(e.data)[n],style:o,onClick:function(){return a(Object.keys(e.data)[n])},children:Object(p.jsx)(j.a,{primary:Object.keys(e.data)[n]})},n)}}),Object(p.jsx)(b.a,{style:{position:\"fixed\",left:\"20%\",top:\"3%\"},data:i})]})}var x=n(4);function g(e){return new Promise((function(t){var n=new FileReader;n.onload=function(){var e=n.result.split(\"\\n\");\"\"===e[e.length-1]&&e.pop();for(var o={},r=e[0].split(\",\"),a=0;a<r.length;++a)o[r[a]]=[];for(var i=1;i<e.length;++i)for(var c=e[i].split(\",\"),s=0;s<r.length;++s)o[r[s]].push(c[s]);t(o)},n.readAsText(e)}))}function v(e){var t=Object(o.useState)(),n=Object(d.a)(t,2),r=n[0],a=n[1],i=function(e){return void 0===e||0===e.length?[]:e[0]},c={borderRadius:\"30px\",fontSize:\"20px\",fontWeight:\"normal\",border:\"none\",borderCollapse:\"collapse\",width:\"100%\",maxWidth:\"100%\",whiteSpace:\"nowrap\",backgroundColor:\"white\",borderSpacing:\"10px\",textAlign:\"center\",columnWidth:\"100px\"},s={color:\"#ffffff\",background:\"#000000\"},l={color:\"#000000\",background:\"ffffff\"},u=function(e){return i(e).map((function(e,t){return Object(p.jsx)(\"th\",{children:e.toUpperCase()},e)}))},b=function(t,n,o){if(void 0===e.anomalies)return\"white\";var r,a=i(o)[n],c=Object(x.a)(e.anomalies[a]);try{for(c.s();!(r=c.n()).done;){var s=r.value;if(t>=s.start&&t<=s.end)return\"red\"}}catch(l){c.e(l)}finally{c.f()}return\"green\"},h=function(e,t,n){return e.map((function(e,o){return Object(p.jsx)(\"td\",{style:{backgroundColor:b(t,o,n)},children:e})}))},j=function(e){return e.slice(1).map((function(t,n){return Object(p.jsx)(\"tr\",{children:h(t,n,e)},n)}))};return void 0===e.data?null:r&&0!=r.length?r:(setTimeout((function(){var t=function(e){if(void 0===e||0===e.length)return[];var t=[];t.push(Object.keys(e));for(var n=1;n<=Object.values(e)[0].length;++n)t[n]=[];return t[0].forEach((function(n){for(var o=e[n],r=1;r<=o.length;++r)t[r].push(o[r])})),t}(e.data);a(Object(p.jsx)(\"div\",{children:Object(p.jsxs)(\"table\",{style:c,cellpadding:\"10\",children:[Object(p.jsx)(\"thead\",{style:s,children:Object(p.jsx)(\"tr\",{children:u(t)})}),Object(p.jsx)(\"tbody\",{style:l,children:j(t)})]})}))}),1),Object(p.jsx)(\"h1\",{children:\"Loading...\"}))}var y=n(44);function m(e){var t=Object(o.useState)([]),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(o.useState)(),c=Object(d.a)(i,2),s=c[0],l=c[1];return Object(o.useEffect)((function(){return fetch(\"/api/models\").then((function(e){return e.json()})).then((function(t){a(t),void 0===s&&t.length>0&&(l(0),e.onModelSelect(t[0].modelId))}))}),Object(u.a)(e.dependency)),Object(p.jsx)(\"div\",{children:Object(p.jsx)(f.a,{height:500,width:250,itemSize:130,itemCount:r.length,children:function(t){var n=t.index,o=t.style,a=r[n];return Object(p.jsx)(h.a,{button:!0,selected:s===n,style:Object.assign({},o,{borderColor:\"ready\"===a.status?\"green\":\"red\"}),onClick:function(){\"ready\"===a.status&&(l(n),e.onModelSelect(a.modelId))},children:Object(p.jsx)(j.a,{primary:Object(p.jsxs)(y.a,{variant:\"h10\",style:{fontFamily:\"sans-serif\",fontSize:\"130%\",color:\"ready\"===a.status?\"green\":\"red\"},children:[\"Status: \",a.status,Object(p.jsx)(\"br\",{})]}),secondary:Object(p.jsxs)(y.a,{style:{color:\"black\",fontFamily:\"sans-serif\",margin:\"5%\",fontSize:\"80%\"},children:[\"Upload Time:\",Object(p.jsx)(\"br\",{}),a.uploadTime]})})},n)}})})}function S(e){var t=Object(o.useState)(),n=Object(d.a)(t,2),r=n[0],a=n[1],i={display:\"block\",cursor:\"pointer\",outline:\"none\",border:\"none\",backgroundColor:\"black\",width:\"180px\",height:\"23px\",borderRadius:\"10px\",fontSize:\"1rem\",fontWeight:\"200\",color:\"white\",backgroundSize:\"100% 100%\",marginBottom:\"5px\"};return Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"div\",{style:i,class:\"form-group files\",children:Object(p.jsx)(\"input\",{style:{display:\"block\",cursor:\"pointer\",outline:\"none\",border:\"none\",backgroundColor:\"black\",width:\"180px\",height:\"23px\",borderRadius:\"10px\",fontSize:\"0.84rem\",fontWeight:\"200\",color:\"white\",backgroundSize:\"100% 100%\",marginBottom:\"5px\"},type:\"file\",name:\"file\",onChange:function(e){a(e.target.files[0])}})}),Object(p.jsx)(\"button\",{style:i,onClick:function(){void 0!==r&&(e.onUpload(r),a(void 0))},children:\"Detect anomaly\"})]})}function k(e){var t=Object(o.useState)(),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(o.useState)(),c=Object(d.a)(i,2),s=c[0],l=c[1],u={display:\"block\",cursor:\"pointer\",outline:\"none\",border:\"none\",backgroundColor:\"black\",width:\"180px\",height:\"23px\",borderRadius:\"10px\",fontSize:\"1rem\",fontWeight:\"200\",color:\"white\",backgroundSize:\"100% 100%\",marginBottom:\"5px\"};return Object(p.jsxs)(\"div\",{children:[Object(p.jsxs)(\"div\",{onChange:function(e){return l(e.target.value)},children:[Object(p.jsx)(\"input\",{type:\"radio\",value:\"regression\",name:\"algorithm\"}),\"Regression\",Object(p.jsx)(\"input\",{type:\"radio\",value:\"hybrid\",name:\"algorithm\"}),\"Hybrid\"]}),Object(p.jsx)(\"div\",{style:u,className:\"form-group files\",children:Object(p.jsx)(\"input\",{style:{display:\"block\",cursor:\"pointer\",outline:\"none\",border:\"none\",backgroundColor:\"black\",width:\"180px\",height:\"23px\",borderRadius:\"10px\",fontSize:\"0.84rem\",fontWeight:\"200\",color:\"white\",backgroundSize:\"100% 100%\",marginBottom:\"5px\"},type:\"file\",name:\"file\",onChange:function(e){a(e.target.files[0])}})}),Object(p.jsx)(\"button\",{style:u,onClick:function(){void 0!==r&&(e.onUpload(r,s),r=void 0)},children:\"Train model\"})]})}var w=n(223);function C(e){var t=Object(o.useState)(0),n=Object(d.a)(t,2),r=n[0],a=n[1];if(0===r)var i=Object(p.jsx)(k,{onUpload:e.onUploadTrain});else i=Object(p.jsx)(S,{onUpload:e.onUploadAnomaly});return Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(w.a,{edge:\"end\",onChange:function(){return a((r+1)%2)}}),i]})}function z(){var e=Object(o.useState)(0),t=Object(d.a)(e,2),n=t[0],r=t[1],a=Object(o.useState)(),i=Object(d.a)(a,2),c=i[0],u=i[1],b=Object(o.useState)(),h=Object(d.a)(b,2),j=h[0],f=h[1];return Object(p.jsxs)(\"div\",{children:[Object(p.jsx)(\"div\",{style:{position:\"fixed\",width:\"20%\",overflowY:\"scroll\",top:\"5%\",bottom:\"20%\",left:\"83%\"},children:Object(p.jsx)(m,{onModelSelect:function(e){r(e),void 0!==j&&fetch(\"/api/anomaly?model_id=\"+e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(e){return f(e.anomalies)}))},dependency:[c]})}),Object(p.jsx)(\"div\",{style:{position:\"fixed\",width:\"62%\",top:\"5%\"},children:Object(p.jsx)(O,{data:c,anomalies:j})}),Object(p.jsx)(\"div\",{style:{position:\"fixed\",width:\"80%\",height:\"30%\",overflowY:\"scroll\",bottom:\"0%\",right:\"18%\"},children:Object(p.jsx)(v,{data:c,anomalies:j})}),Object(p.jsx)(\"div\",{style:{position:\"fixed\",bottom:\"5%\",right:\"5%\"},children:Object(p.jsx)(C,{onUploadTrain:function(){var e=Object(l.a)(s.a.mark((function e(t,n){var o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:o=e.sent,fetch(\"/api/model/\"+n,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(o)}),u(o),f(void 0);case 6:case\"end\":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),onUploadAnomaly:function(){var e=Object(l.a)(s.a.mark((function e(t){var o,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(t);case 2:return o=e.sent,e.next=5,fetch(\"/api/anomaly?model_id=\"+n,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(o)});case 5:return r=e.sent,e.next=8,r.json();case 8:a=e.sent,f(a.anomalies),u(o);case 11:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})]})}i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(z,{})}),document.getElementById(\"root\"))}},[[207,1,2]]]);","name":"static/js/main.84bf89b4.chunk.js","map":{"version":3,"sources":["static/js/main.84bf89b4.chunk.js"],"names":["this","push","207","module","__webpack_exports__","__webpack_require__","r","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","toConsumableArray","index_modern","ListItem","ListItemText","index_esm","jsx_runtime","Graphs","props","_useState","Object","_useState2","currentProperty","setCurrentProperty","undefined","data","length","labels","Array","from","values","keys","datasets","anomalies","label","borderColor","_i","j","end","start","temp","anomalyPoints","forEach","anomaly","i","fill","concat","slice","children","height","width","itemSize","itemCount","itemProps","index","style","button","selected","onClick","primary","position","left","top","createForOfIteratorHelper","convertCSVToJSON","file","Promise","resolve","reader","FileReader","onload","lines","result","split","pop","headers","currentline","readAsText","Table","setResult","getKeys","table","borderRadius","fontSize","fontWeight","border","borderCollapse","maxWidth","whiteSpace","backgroundColor","borderSpacing","textAlign","columnWidth","thead","color","background","tbody","getHeader","map","key","toUpperCase","getColor","row","col","_step","_iterator","s","done","span","value","err","e","f","RenderRow","rowIndex","getRowsData","setTimeout","json","convertJSONToLines","cellpadding","Typography","Models","modelsList","setModelsList","_useState3","_useState4","selectedIndex","setSelectedIndex","fetch","then","response","onModelSelect","modelId","dependency","model","assign","status","variant","fontFamily","secondary","margin","uploadTime","AnomalyFileUploadBox","currentFile","setCurrentFile","buttonDesign","display","cursor","outline","backgroundSize","marginBottom","class","type","name","onChange","event","target","files","onUpload","TrainingFileUploadBox","algorithm","setAlgorithm","className","Switch","FileUploadPanel","currentMode","setCurrentMode","uploadBox","onUploadTrain","onUploadAnomaly","edge","App","currentModelId","setCurrentModelId","currentDataJSON","setCurrentDataJSON","_useState5","_useState6","currentDataAnomalies","setCurrentDataAnomalies","overflowY","bottom","method","Content-Type","body","JSON","stringify","right","_ref","a","mark","_callee","wrap","_context","prev","next","sent","stop","_x","_x2","apply","arguments","_ref2","_callee2","_context2","_x3","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpfrontend\"] = this[\"webpackJsonpfrontend\"] || []).push([[0],{\n\n/***/ 207:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(18);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(31);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(59);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(6);\n\n// EXTERNAL MODULE: ./node_modules/react-chartjs-2/dist/index.modern.js + 17 modules\nvar index_modern = __webpack_require__(84);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/ListItem/ListItem.js + 1 modules\nvar ListItem = __webpack_require__(224);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/ListItemText/ListItemText.js\nvar ListItemText = __webpack_require__(221);\n\n// EXTERNAL MODULE: ./node_modules/react-window/dist/index.esm.js + 1 modules\nvar index_esm = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/Graphs.js\nfunction Graphs(props){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentProperty=_useState2[0],setCurrentProperty=_useState2[1];if(props.data===undefined||props.data.length===0){return'Please enter a file for training a model or for anomaly detection';}var data={labels:Array.from(Array(Object.values(props.data)[0].length).keys()),datasets:[]};if(currentProperty===undefined||props.anomalies===undefined||props.anomalies!==undefined&&currentProperty!==undefined&&props.anomalies[currentProperty].length===0){data.datasets.push({label:currentProperty===undefined?'Please choose a property to show':currentProperty,data:props.data[currentProperty],borderColor:'gray'});}else if(currentProperty!==undefined&&props.anomalies[currentProperty].length>0){var anomalies=Object(toConsumableArray[\"a\" /* default */])(props.anomalies[currentProperty]);for(var _i=0;_i<anomalies.length;++_i){for(var j=0;j<anomalies.length-_i;++j){if(anomalies[j].end<anomalies[_i].start){var temp=anomalies[_i];anomalies[_i]=anomalies[j];anomalies[j]=temp;}}}var anomalyPoints=[0];anomalies.forEach(function(anomaly){anomalyPoints.push(anomaly.start);anomalyPoints.push(anomaly.end);});anomalyPoints.push(props.data[currentProperty].length-1);var i=0;for(;i<anomalyPoints.length-2;i+=2){data.datasets.push({label:currentProperty,data:Array(anomalyPoints[i]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i],anomalyPoints[i+1])),borderColor:'gray'});data.datasets.push({label:currentProperty,data:Array(anomalyPoints[i+1]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i+1],anomalyPoints[i+2])),borderColor:'red'});}data.datasets.push({label:currentProperty===undefined?'Please choose a property to show':currentProperty,data:Array(anomalyPoints[i]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i],anomalyPoints[i+1])),borderColor:'gray'});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* FixedSizeList */],{height:400,width:210,itemSize:80,itemCount:Object.keys(props.data).length,children:function children(itemProps){var index=itemProps.index,style=itemProps.style;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItem[\"a\" /* default */],{button:true,selected:currentProperty===Object.keys(props.data)[index],style:style,onClick:function onClick(){return setCurrentProperty(Object.keys(props.data)[index]);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemText[\"a\" /* default */],{primary:Object.keys(props.data)[index]})},index);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_modern[\"a\" /* Line */],{style:{position:'fixed',left:'20%',top:'3%'},data:data})]});}\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\nvar createForOfIteratorHelper = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/utils.js\nfunction convertCSVToJSON(file){return new Promise(function(resolve){var reader=new FileReader();reader.onload=function(){var lines=reader.result.split(\"\\n\");var lastLine=lines[lines.length-1];if(lastLine===''){lines.pop();}var result={};var headers=lines[0].split(\",\");for(var i=0;i<headers.length;++i){result[headers[i]]=[];}for(var _i=1;_i<lines.length;++_i){var currentline=lines[_i].split(\",\");for(var j=0;j<headers.length;++j){result[headers[j]].push(currentline[j]);}}resolve(result);};reader.readAsText(file);});}function convertJSONToLines(json){if(json===undefined||json.length===0){return[];}var lines=[];lines.push(Object.keys(json));for(var i=1;i<=Object.values(json)[0].length;++i){lines[i]=[];}lines[0].forEach(function(key){var values=json[key];for(var j=1;j<=values.length;++j){lines[j].push(values[j]);}});return lines;}\n// CONCATENATED MODULE: ./src/Table.js\nfunction Table(props){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),result=_useState2[0],setResult=_useState2[1];var getKeys=function getKeys(data){if(data===undefined||data.length===0){return[];}return data[0];};var table={borderRadius:\"30px\",fontSize:\"20px\",fontWeight:\"normal\",border:\"none\",borderCollapse:\"collapse\",width:\"100%\",maxWidth:\"100%\",whiteSpace:\"nowrap\",backgroundColor:\"white\",borderSpacing:\"10px\",textAlign:\"center\",columnWidth:\"100px\"};var thead={color:\"#ffffff\",background:\"#000000\"};var tbody={color:\"#000000\",background:\"ffffff\"};var getHeader=function getHeader(data){var keys=getKeys(data);return keys.map(function(key,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:key.toUpperCase()},key);});};var getColor=function getColor(row,col,data){if(props.anomalies===undefined){return'white';}var key=getKeys(data)[col];var _iterator=Object(createForOfIteratorHelper[\"a\" /* default */])(props.anomalies[key]),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var span=_step.value;if(row>=span.start&&row<=span.end){return'red';}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return'green';};var RenderRow=function RenderRow(row,rowIndex,data){return row.map(function(key,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{style:{backgroundColor:getColor(rowIndex,index,data)},children:key});});};var getRowsData=function getRowsData(data){return data.slice(1).map(function(row,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tr\",{children:RenderRow(row,index,data)},index);});};if(props.data===undefined){return null;}if(!result||result.length==0){setTimeout(function(){var data=convertJSONToLines(props.data);setResult(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{style:table,cellpadding:\"10\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{style:thead,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tr\",{children:getHeader(data)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{style:tbody,children:getRowsData(data)})]})}));},1);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Loading...\"});}return result;}\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(44);\n\n// CONCATENATED MODULE: ./src/Models.js\nfunction Models(props){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),modelsList=_useState2[0],setModelsList=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),selectedIndex=_useState4[0],setSelectedIndex=_useState4[1];Object(react[\"useEffect\"])(function(){return fetch('/api/models').then(function(response){return response.json();}).then(function(json){setModelsList(json);if(selectedIndex===undefined&&json.length>0){setSelectedIndex(0);props.onModelSelect(json[0].modelId);}});},Object(toConsumableArray[\"a\" /* default */])(props.dependency));return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* FixedSizeList */],{height:500,width:250,itemSize:130,itemCount:modelsList.length,children:function children(itemProps){var index=itemProps.index,style=itemProps.style;var model=modelsList[index];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItem[\"a\" /* default */],{button:true,selected:selectedIndex===index,style:Object.assign({},style,{'borderColor':model.status==='ready'?'green':'red'}),onClick:function onClick(){if(model.status==='ready'){setSelectedIndex(index);props.onModelSelect(model.modelId);}},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItemText[\"a\" /* default */],{primary:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{variant:\"h10\",style:{fontFamily:'sans-serif',fontSize:'130%',color:model.status==='ready'?'green':'red'},children:[\"Status: \",model.status,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]}),secondary:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Typography[\"a\" /* default */],{style:{color:'black',fontFamily:'sans-serif',margin:'5%',fontSize:'80%'},children:[\"Upload Time:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),model.uploadTime]})})},index);}})});}\n// CONCATENATED MODULE: ./src/AnomalyFileUploadBox.js\nfunction AnomalyFileUploadBox(props){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentFile=_useState2[0],setCurrentFile=_useState2[1];var changeHandler=function changeHandler(event){setCurrentFile(event.target.files[0]);};var onSubmission=function onSubmission(){if(currentFile!==undefined){props.onUpload(currentFile);setCurrentFile(undefined);}};var buttonDesign={display:\"block\",cursor:\"pointer\",outline:\"none\",border:\"none\",backgroundColor:\"black\",width:\"180px\",height:\"23px\",borderRadius:\"10px\",fontSize:\"1rem\",fontWeight:\"200\",color:\"white\",backgroundSize:\"100% 100%\",//boxShadow: \"0 0 0 7px var(--light) inset\",\nmarginBottom:\"5px\"};var fileUploadDesign={display:\"block\",cursor:\"pointer\",outline:\"none\",border:\"none\",backgroundColor:\"black\",width:\"180px\",height:\"23px\",borderRadius:\"10px\",fontSize:\"0.84rem\",fontWeight:\"200\",color:\"white\",backgroundSize:\"100% 100%\",//boxShadow: \"0 0 0 7px var(--light) inset\",\nmarginBottom:\"5px\"};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:buttonDesign,class:\"form-group files\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:fileUploadDesign,type:\"file\",name:\"file\",onChange:changeHandler})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{style:buttonDesign,onClick:onSubmission,children:\"Detect anomaly\"})]});}\n// CONCATENATED MODULE: ./src/TrainingFileUploadBox.js\nfunction TrainingFileUploadBox(props){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentFile=_useState2[0],setCurrentFile=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),algorithm=_useState4[0],setAlgorithm=_useState4[1];var changeHandler=function changeHandler(event){setCurrentFile(event.target.files[0]);};var onSubmission=function onSubmission(){if(currentFile!==undefined){props.onUpload(currentFile,algorithm);currentFile=undefined;}else{// there isnt a file to upload\n}};var buttonDesign={display:\"block\",cursor:\"pointer\",outline:\"none\",border:\"none\",backgroundColor:\"black\",width:\"180px\",height:\"23px\",borderRadius:\"10px\",fontSize:\"1rem\",fontWeight:\"200\",color:\"white\",backgroundSize:\"100% 100%\",//boxShadow: \"0 0 0 7px var(--light) inset\",\nmarginBottom:\"5px\"};var fileUploadDesign={display:\"block\",cursor:\"pointer\",outline:\"none\",border:\"none\",backgroundColor:\"black\",width:\"180px\",height:\"23px\",borderRadius:\"10px\",fontSize:\"0.84rem\",fontWeight:\"200\",color:\"white\",backgroundSize:\"100% 100%\",//boxShadow: \"0 0 0 7px var(--light) inset\",\nmarginBottom:\"5px\"};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onChange:function onChange(event){return setAlgorithm(event.target.value);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"radio\",value:\"regression\",name:\"algorithm\"}),\"Regression\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"radio\",value:\"hybrid\",name:\"algorithm\"}),\"Hybrid\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:buttonDesign,className:\"form-group files\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{style:fileUploadDesign,type:\"file\",name:\"file\",onChange:changeHandler})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{style:buttonDesign,onClick:onSubmission,children:\"Train model\"})]});}\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Switch/Switch.js + 5 modules\nvar Switch = __webpack_require__(223);\n\n// CONCATENATED MODULE: ./src/FileUploadPanel.js\nfunction FileUploadPanel(props){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentMode=_useState2[0],setCurrentMode=_useState2[1];if(currentMode===0){var uploadBox=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(TrainingFileUploadBox,{onUpload:props.onUploadTrain});}else{uploadBox=/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AnomalyFileUploadBox,{onUpload:props.onUploadAnomaly});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Switch[\"a\" /* default */],{edge:\"end\",onChange:function onChange(){return setCurrentMode((currentMode+1)%2);}}),uploadBox]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentModelId=_useState2[0],setCurrentModelId=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),currentDataJSON=_useState4[0],setCurrentDataJSON=_useState4[1];var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),currentDataAnomalies=_useState6[0],setCurrentDataAnomalies=_useState6[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:'fixed',width:'20%',overflowY:'scroll',top:'5%',bottom:'20%',left:'83%'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Models,{onModelSelect:function onModelSelect(modelId){setCurrentModelId(modelId);if(currentDataAnomalies!==undefined){fetch('/api/anomaly?model_id='+modelId,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(currentDataJSON)}).then(function(response){return response.json();}).then(function(anomalies){return setCurrentDataAnomalies(anomalies.anomalies);});}},dependency:[currentDataJSON]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:'fixed',width:'62%',top:'5%'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Graphs,{data:currentDataJSON,anomalies:currentDataAnomalies})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:'fixed',width:'80%',height:'30%',overflowY:'scroll',bottom:'0%',right:'18%'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Table,{data:currentDataJSON,anomalies:currentDataAnomalies})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{position:'fixed',bottom:'5%',right:'5%'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FileUploadPanel,{onUploadTrain:/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(file,algorithm){var json;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return convertCSVToJSON(file);case 2:json=_context.sent;fetch('/api/model/'+algorithm,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(json)});setCurrentDataJSON(json);setCurrentDataAnomalies(undefined);case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}(),onUploadAnomaly:/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(file){var json,response,anomalies;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return convertCSVToJSON(file);case 2:json=_context2.sent;_context2.next=5;return fetch('/api/anomaly?model_id='+currentModelId,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(json)});case 5:response=_context2.sent;_context2.next=8;return response.json();case 8:anomalies=_context2.sent;setCurrentDataAnomalies(anomalies.anomalies);setCurrentDataJSON(json);case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3){return _ref2.apply(this,arguments);};}()})})]});}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App,{})}),document.getElementById('root'));\n\n/***/ })\n\n},[[207,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/Graphs.js","/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/utils.js","/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/Table.js","/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/Models.js","/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/AnomalyFileUploadBox.js","/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/TrainingFileUploadBox.js","/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/FileUploadPanel.js","/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/App.js","/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/index.js"],"names":["Graphs","props","useState","currentProperty","setCurrentProperty","data","undefined","length","labels","Array","from","Object","values","keys","datasets","anomalies","push","label","borderColor","i","j","end","start","temp","anomalyPoints","forEach","anomaly","fill","concat","slice","itemProps","index","style","position","left","top","convertCSVToJSON","file","Promise","resolve","reader","FileReader","onload","lines","result","split","lastLine","pop","headers","currentline","readAsText","convertJSONToLines","json","key","Table","setResult","getKeys","table","borderRadius","fontSize","fontWeight","border","borderCollapse","width","maxWidth","whiteSpace","backgroundColor","borderSpacing","textAlign","columnWidth","thead","color","background","tbody","getHeader","map","toUpperCase","getColor","row","col","span","RenderRow","rowIndex","getRowsData","setTimeout","Models","modelsList","setModelsList","selectedIndex","setSelectedIndex","useEffect","fetch","then","response","onModelSelect","modelId","dependency","model","assign","status","fontFamily","margin","uploadTime","AnomalyFileUploadBox","currentFile","setCurrentFile","changeHandler","event","target","files","onSubmission","onUpload","buttonDesign","display","cursor","outline","height","backgroundSize","marginBottom","fileUploadDesign","TrainingFileUploadBox","algorithm","setAlgorithm","value","FileUploadPanel","currentMode","setCurrentMode","uploadBox","onUploadTrain","onUploadAnomaly","App","currentModelId","setCurrentModelId","currentDataJSON","setCurrentDataJSON","currentDataAnomalies","setCurrentDataAnomalies","overflowY","bottom","method","body","JSON","stringify","right","ReactDOM","render","document","getElementById"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMe,QAASA,OAAT,CAAgBC,KAAhB,CAAuB,CACrC,cAA8CC,yBAAQ,EAAtD,kEAAOC,eAAP,eAAwBC,kBAAxB,eAEA,GAAIH,KAAK,CAACI,IAAN,GAAeC,SAAf,EAA4BL,KAAK,CAACI,IAAN,CAAWE,MAAX,GAAsB,CAAtD,CAAyD,CACxD,MACC,mEADD,CAGA,CAED,GAAIF,KAAI,CAAG,CACVG,MAAM,CAAEC,KAAK,CAACC,IAAN,CAAWD,KAAK,CAACE,MAAM,CAACC,MAAP,CAAcX,KAAK,CAACI,IAApB,EAA0B,CAA1B,EAA6BE,MAA9B,CAAL,CAA2CM,IAA3C,EAAX,CADE,CAEVC,QAAQ,CAAE,EAFA,CAAX,CAKA,GAAIX,eAAe,GAAKG,SAApB,EAAiCL,KAAK,CAACc,SAAN,GAAoBT,SAArD,EACCL,KAAK,CAACc,SAAN,GAAoBT,SAApB,EAAiCH,eAAe,GAAKG,SAArD,EAAkEL,KAAK,CAACc,SAAN,CAAgBZ,eAAhB,EAAiCI,MAAjC,GAA4C,CADnH,CACuH,CACtHF,IAAI,CAACS,QAAL,CAAcE,IAAd,CAAmB,CAClBC,KAAK,CAAGd,eAAe,GAAKG,SAApB,CAAgC,kCAAhC,CAAqEH,eAD3D,CAElBE,IAAI,CAAEJ,KAAK,CAACI,IAAN,CAAWF,eAAX,CAFY,CAGlBe,WAAW,CAAE,MAHK,CAAnB,EAKA,CAPD,IAQK,IAAIf,eAAe,GAAKG,SAApB,EAAiCL,KAAK,CAACc,SAAN,CAAgBZ,eAAhB,EAAiCI,MAAjC,CAA0C,CAA/E,CAAkF,CACtF,GAAIQ,UAAS,8CAAOd,KAAK,CAACc,SAAN,CAAgBZ,eAAhB,CAAP,CAAb,CAEA,IAAK,GAAIgB,GAAC,CAAG,CAAb,CAAgBA,EAAC,CAAGJ,SAAS,CAACR,MAA9B,CAAsC,EAAEY,EAAxC,CAA2C,CAC1C,IAAK,GAAIC,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGL,SAAS,CAACR,MAAV,CAAmBY,EAAvC,CAA0C,EAAEC,CAA5C,CAA+C,CAC9C,GAAIL,SAAS,CAACK,CAAD,CAAT,CAAaC,GAAb,CAAmBN,SAAS,CAACI,EAAD,CAAT,CAAaG,KAApC,CAA2C,CAC1C,GAAIC,KAAI,CAAGR,SAAS,CAACI,EAAD,CAApB,CACAJ,SAAS,CAACI,EAAD,CAAT,CAAeJ,SAAS,CAACK,CAAD,CAAxB,CACAL,SAAS,CAACK,CAAD,CAAT,CAAeG,IAAf,CACA,CACD,CACD,CAED,GAAIC,cAAa,CAAG,CAAC,CAAD,CAApB,CACAT,SAAS,CAACU,OAAV,CAAkB,SAAAC,OAAO,CAAI,CAC5BF,aAAa,CAACR,IAAd,CAAmBU,OAAO,CAACJ,KAA3B,EACAE,aAAa,CAACR,IAAd,CAAmBU,OAAO,CAACL,GAA3B,EACA,CAHD,EAIAG,aAAa,CAACR,IAAd,CAAmBf,KAAK,CAACI,IAAN,CAAWF,eAAX,EAA4BI,MAA5B,CAAqC,CAAxD,EAEA,GAAIY,EAAC,CAAG,CAAR,CACA,KAAOA,CAAC,CAAGK,aAAa,CAACjB,MAAd,CAAuB,CAAlC,CAAqCY,CAAC,EAAI,CAA1C,CAA6C,CAC5Cd,IAAI,CAACS,QAAL,CAAcE,IAAd,CAAmB,CAClBC,KAAK,CAAEd,eADW,CAElBE,IAAI,CAAEI,KAAK,CAACe,aAAa,CAACL,CAAD,CAAd,CAAL,CAAwBQ,IAAxB,CAA6B,IAA7B,EAAmCC,MAAnC,CAA0C3B,KAAK,CAACI,IAAN,CAAWF,eAAX,EAA4B0B,KAA5B,CAAkCL,aAAa,CAACL,CAAD,CAA/C,CAAoDK,aAAa,CAACL,CAAC,CAAG,CAAL,CAAjE,CAA1C,CAFY,CAGlBD,WAAW,CAAE,MAHK,CAAnB,EAKAb,IAAI,CAACS,QAAL,CAAcE,IAAd,CAAmB,CAClBC,KAAK,CAAEd,eADW,CAElBE,IAAI,CAAEI,KAAK,CAACe,aAAa,CAACL,CAAC,CAAG,CAAL,CAAd,CAAL,CAA4BQ,IAA5B,CAAiC,IAAjC,EAAuCC,MAAvC,CAA8C3B,KAAK,CAACI,IAAN,CAAWF,eAAX,EAA4B0B,KAA5B,CAAkCL,aAAa,CAACL,CAAC,CAAG,CAAL,CAA/C,CAAwDK,aAAa,CAACL,CAAC,CAAG,CAAL,CAArE,CAA9C,CAFY,CAGlBD,WAAW,CAAE,KAHK,CAAnB,EAKA,CACDb,IAAI,CAACS,QAAL,CAAcE,IAAd,CAAmB,CAClBC,KAAK,CAAGd,eAAe,GAAKG,SAApB,CAAgC,kCAAhC,CAAqEH,eAD3D,CAElBE,IAAI,CAAEI,KAAK,CAACe,aAAa,CAACL,CAAD,CAAd,CAAL,CAAwBQ,IAAxB,CAA6B,IAA7B,EAAmCC,MAAnC,CAA0C3B,KAAK,CAACI,IAAN,CAAWF,eAAX,EAA4B0B,KAA5B,CAAkCL,aAAa,CAACL,CAAD,CAA/C,CAAoDK,aAAa,CAACL,CAAC,CAAG,CAAL,CAAjE,CAA1C,CAFY,CAGlBD,WAAW,CAAE,MAHK,CAAnB,EAKA,CAED,mBACC,0DACC,2BAAC,kCAAD,EAAe,MAAM,CAAE,GAAvB,CAA4B,KAAK,CAAE,GAAnC,CAAwC,QAAQ,CAAE,EAAlD,CAAsD,SAAS,CAAEP,MAAM,CAACE,IAAP,CAAYZ,KAAK,CAACI,IAAlB,EAAwBE,MAAzF,UACE,kBAAAuB,SAAS,CAAI,CACb,GAAQC,MAAR,CAAyBD,SAAzB,CAAQC,KAAR,CAAeC,KAAf,CAAyBF,SAAzB,CAAeE,KAAf,CAEA,mBACC,2BAAC,2BAAD,EAAU,MAAM,KAAhB,CAAiB,QAAQ,CAAE7B,eAAe,GAAKQ,MAAM,CAACE,IAAP,CAAYZ,KAAK,CAACI,IAAlB,EAAwB0B,KAAxB,CAA/C,CAA+E,KAAK,CAAEC,KAAtF,CAAyG,OAAO,CAAE,yBAAM5B,mBAAkB,CAACO,MAAM,CAACE,IAAP,CAAYZ,KAAK,CAACI,IAAlB,EAAwB0B,KAAxB,CAAD,CAAxB,EAAlH,uBACC,2BAAC,+BAAD,EAAc,OAAO,CAAEpB,MAAM,CAACE,IAAP,CAAYZ,KAAK,CAACI,IAAlB,EAAwB0B,KAAxB,CAAvB,EADD,EAAkGA,KAAlG,CADD,CAKA,CATF,EADD,cAaC,2BAAC,4BAAD,EAAM,KAAK,CAAE,CAACE,QAAQ,CAAE,OAAX,CAAoBC,IAAI,CAAE,KAA1B,CAAiCC,GAAG,CAAE,IAAtC,CAAb,CAA0D,IAAI,CAAE9B,IAAhE,EAbD,GADD,CAiBA,C;;;;;ACrFM,QAAS+B,iBAAT,CAA0BC,IAA1B,CAAgC,CACrC,MAAO,IAAIC,QAAJ,CAAY,SAACC,OAAD,CAAa,CAC9B,GAAIC,OAAM,CAAG,GAAIC,WAAJ,EAAb,CAEAD,MAAM,CAACE,MAAP,CAAgB,UAAM,CACpB,GAAIC,MAAK,CAAGH,MAAM,CAACI,MAAP,CAAcC,KAAd,CAAoB,IAApB,CAAZ,CACA,GAAIC,SAAQ,CAAGH,KAAK,CAACA,KAAK,CAACpC,MAAN,CAAe,CAAhB,CAApB,CACA,GAAIuC,QAAQ,GAAK,EAAjB,CAAqB,CACnBH,KAAK,CAACI,GAAN,GACD,CACD,GAAIH,OAAM,CAAG,EAAb,CAEA,GAAII,QAAO,CAAGL,KAAK,CAAC,CAAD,CAAL,CAASE,KAAT,CAAe,GAAf,CAAd,CACA,IAAK,GAAI1B,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG6B,OAAO,CAACzC,MAA5B,CAAoC,EAAEY,CAAtC,CAAyC,CACvCyB,MAAM,CAACI,OAAO,CAAC7B,CAAD,CAAR,CAAN,CAAqB,EAArB,CACD,CAED,IAAK,GAAIA,GAAC,CAAG,CAAb,CAAgBA,EAAC,CAAGwB,KAAK,CAACpC,MAA1B,CAAkC,EAAEY,EAApC,CAAuC,CACrC,GAAI8B,YAAW,CAAGN,KAAK,CAACxB,EAAD,CAAL,CAAS0B,KAAT,CAAe,GAAf,CAAlB,CAEA,IAAK,GAAIzB,EAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG4B,OAAO,CAACzC,MAA5B,CAAoC,EAAEa,CAAtC,CAAyC,CACvCwB,MAAM,CAACI,OAAO,CAAC5B,CAAD,CAAR,CAAN,CAAmBJ,IAAnB,CAAwBiC,WAAW,CAAC7B,CAAD,CAAnC,EACD,CACF,CAEDmB,OAAO,CAACK,MAAD,CAAP,CACD,CAtBD,CAwBAJ,MAAM,CAACU,UAAP,CAAkBb,IAAlB,EACD,CA5BM,CAAP,CA6BD,CAEM,QAASc,mBAAT,CAA4BC,IAA5B,CAAkC,CACvC,GAAIA,IAAI,GAAK9C,SAAT,EAAsB8C,IAAI,CAAC7C,MAAL,GAAgB,CAA1C,CAA6C,CAC3C,MAAO,EAAP,CACD,CAED,GAAIoC,MAAK,CAAG,EAAZ,CAEAA,KAAK,CAAC3B,IAAN,CAAWL,MAAM,CAACE,IAAP,CAAYuC,IAAZ,CAAX,EAEA,IAAK,GAAIjC,EAAC,CAAG,CAAb,CAAgBA,CAAC,EAAIR,MAAM,CAACC,MAAP,CAAcwC,IAAd,EAAoB,CAApB,EAAuB7C,MAA5C,CAAoD,EAAEY,CAAtD,CAAyD,CACvDwB,KAAK,CAACxB,CAAD,CAAL,CAAW,EAAX,CACD,CAEDwB,KAAK,CAAC,CAAD,CAAL,CAASlB,OAAT,CAAiB,SAAA4B,GAAG,CAAI,CACtB,GAAMzC,OAAM,CAAGwC,IAAI,CAACC,GAAD,CAAnB,CAEA,IAAK,GAAIjC,EAAC,CAAG,CAAb,CAAgBA,CAAC,EAAIR,MAAM,CAACL,MAA5B,CAAoC,EAAEa,CAAtC,CAAyC,CACvCuB,KAAK,CAACvB,CAAD,CAAL,CAASJ,IAAT,CAAcJ,MAAM,CAACQ,CAAD,CAApB,EACD,CACF,CAND,EAQA,MAAOuB,MAAP,CACD,C;;ACnDc,QAASW,MAAT,CAAerD,KAAf,CAAsB,CACjC,cAA2BC,yBAAQ,EAAnC,kEAAO0C,MAAP,eAAcW,SAAd,eAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,CAACnD,IAAD,CAAU,CACtB,GAAIA,IAAI,GAAKC,SAAT,EAAsBD,IAAI,CAACE,MAAL,GAAgB,CAA1C,CAA6C,CACzC,MAAO,EAAP,CACH,CAED,MAAOF,KAAI,CAAC,CAAD,CAAX,CACH,CAND,CAQA,GAAMoD,MAAK,CAAG,CACVC,YAAY,CAAE,MADJ,CAEVC,QAAQ,CAAE,MAFA,CAGVC,UAAU,CAAE,QAHF,CAIVC,MAAM,CAAE,MAJE,CAKVC,cAAc,CAAE,UALN,CAMVC,KAAK,CAAE,MANG,CAOVC,QAAQ,CAAE,MAPA,CAQVC,UAAU,CAAE,QARF,CASVC,eAAe,CAAE,OATP,CAUVC,aAAa,CAAE,MAVL,CAWVC,SAAS,CAAE,QAXD,CAYVC,WAAW,CAAE,OAZH,CAAd,CAeA,GAAMC,MAAK,CAAG,CACVC,KAAK,CAAE,SADG,CAEVC,UAAU,CAAE,SAFF,CAAd,CAIA,GAAMC,MAAK,CAAG,CACVF,KAAK,CAAE,SADG,CAEVC,UAAU,CAAE,QAFF,CAAd,CAKA,GAAME,UAAS,CAAG,QAAZA,UAAY,CAACrE,IAAD,CAAU,CACxB,GAAIQ,KAAI,CAAG2C,OAAO,CAACnD,IAAD,CAAlB,CACA,MAAOQ,KAAI,CAAC8D,GAAL,CAAS,SAACtB,GAAD,CAAMtB,KAAN,CAAgB,CAC5B,mBAAO,0CAAesB,GAAG,CAACuB,WAAJ,EAAf,EAASvB,GAAT,CAAP,CACH,CAFM,CAAP,CAGH,CALD,CAOA,GAAMwB,SAAQ,CAAC,QAATA,SAAS,CAACC,GAAD,CAAKC,GAAL,CAAS1E,IAAT,CAAgB,CAC3B,GAAIJ,KAAK,CAACc,SAAN,GAAkBT,SAAtB,CAAgC,CAC5B,MAAO,OAAP,CACH,CACD,GAAI+C,IAAG,CAACG,OAAO,CAACnD,IAAD,CAAP,CAAc0E,GAAd,CAAR,CAJ2B,mEAKV9E,KAAK,CAACc,SAAN,CAAgBsC,GAAhB,CALU,YAK3B,+CAAsC,IAA7B2B,KAA6B,aAClC,GAAIF,GAAG,EAAEE,IAAI,CAAC1D,KAAV,EAAiBwD,GAAG,EAAEE,IAAI,CAAC3D,GAA/B,CAAmC,CAC/B,MAAO,KAAP,CACH,CACJ,CAT0B,qDAU3B,MAAO,OAAP,CACH,CAXD,CAaA,GAAM4D,UAAS,CAAG,QAAZA,UAAY,CAACH,GAAD,CAAMI,QAAN,CAAe7E,IAAf,CAAwB,CACtC,MAAOyE,IAAG,CAACH,GAAJ,CAAQ,SAACtB,GAAD,CAAMtB,KAAN,CAAgB,CAC3B,mBAAO,iCAAI,KAAK,CAAE,CAACmC,eAAe,CAAEW,QAAQ,CAACK,QAAD,CAAUnD,KAAV,CAAgB1B,IAAhB,CAA1B,CAAX,UAA+DgD,GAA/D,EAAP,CACH,CAFM,CAAP,CAGH,CAJD,CAMA,GAAM8B,YAAW,CAAG,QAAdA,YAAc,CAAC9E,IAAD,CAAU,CAC1B,MAAOA,KAAI,CAACwB,KAAL,CAAW,CAAX,EAAc8C,GAAd,CAAkB,SAACG,GAAD,CAAM/C,KAAN,CAAgB,CACrC,mBAAO,0CACFkD,SAAS,CAACH,GAAD,CAAK/C,KAAL,CAAW1B,IAAX,CADP,EAAS0B,KAAT,CAAP,CAGH,CAJM,CAAP,CAKH,CAND,CAOA,GAAI9B,KAAK,CAACI,IAAN,GAAaC,SAAjB,CAA2B,CACvB,MAAO,KAAP,CACH,CACD,GAAI,CAACsC,MAAD,EAAWA,MAAM,CAACrC,MAAP,EAAe,CAA9B,CAAgC,CAC5B6E,UAAU,CAAC,UAAM,CACb,GAAM/E,KAAI,CAAC8C,kBAAkB,CAAClD,KAAK,CAACI,IAAP,CAA7B,CACAkD,SAAS,cAAC,wDACN,qCAAO,KAAK,CAAIE,KAAhB,CAAuB,WAAW,CAAC,IAAnC,wBACI,oCAAO,KAAK,CAAIa,KAAhB,uBACI,0CAAKI,SAAS,CAACrE,IAAD,CAAd,EADJ,EADJ,cAII,oCAAO,KAAK,CAAIoE,KAAhB,UACKU,WAAW,CAAC9E,IAAD,CADhB,EAJJ,GADM,EAAD,CAAT,CAUH,CAZS,CAYP,CAZO,CAAV,CAcA,mBAAO,wDAAP,CACH,CAED,MACIuC,OADJ,CAGH,C;;;;;ACzFc,QAASyC,OAAT,CAAgBpF,KAAhB,CAAuB,CAClC,cAAoCC,yBAAQ,CAAC,EAAD,CAA5C,kEAAOoF,UAAP,eAAmBC,aAAnB,eACA,eAA0CrF,yBAAQ,EAAlD,mEAAOsF,aAAP,eAAsBC,gBAAtB,eAEAC,0BAAS,CAAC,iBAAMC,MAAK,CAAC,aAAD,CAAL,CACXC,IADW,CACN,SAAAC,QAAQ,QAAIA,SAAQ,CAACzC,IAAT,EAAJ,EADF,EAEXwC,IAFW,CAEN,SAAAxC,IAAI,CAAI,CACVmC,aAAa,CAACnC,IAAD,CAAb,CAEA,GAAIoC,aAAa,GAAMlF,SAAnB,EAAgC8C,IAAI,CAAC7C,MAAL,CAAc,CAAlD,CAAqD,CACjDkF,gBAAgB,CAAC,CAAD,CAAhB,CACAxF,KAAK,CAAC6F,aAAN,CAAoB1C,IAAI,CAAC,CAAD,CAAJ,CAAQ2C,OAA5B,EACH,CACJ,CATW,CAAN,EAAD,8CASG9F,KAAK,CAAC+F,UATT,EAAT,CAWA,mBACI,wDACI,2BAAC,kCAAD,EAAe,MAAM,CAAE,GAAvB,CAA4B,KAAK,CAAE,GAAnC,CAAwC,QAAQ,CAAE,GAAlD,CAAuD,SAAS,CAAEV,UAAU,CAAC/E,MAA7E,UACK,kBAAAuB,SAAS,CAAI,CACV,GAAQC,MAAR,CAAyBD,SAAzB,CAAQC,KAAR,CAAeC,KAAf,CAAyBF,SAAzB,CAAeE,KAAf,CACA,GAAMiE,MAAK,CAAGX,UAAU,CAACvD,KAAD,CAAxB,CAEA,mBACI,2BAAC,2BAAD,EAAU,MAAM,KAAhB,CAAiB,QAAQ,CAAEyD,aAAa,GAAKzD,KAA7C,CACI,KAAK,CAAEpB,MAAM,CAACuF,MAAP,CAAc,EAAd,CAAkBlE,KAAlB,CAAyB,CAAC,cAAeiE,KAAK,CAACE,MAAN,GAAiB,OAAjB,CAA2B,OAA3B,CAAqC,KAArD,CAAzB,CADX,CAEgB,OAAO,CAAE,kBAAM,CACvB,GAAIF,KAAK,CAACE,MAAN,GAAiB,OAArB,CAA8B,CAC1BV,gBAAgB,CAAC1D,KAAD,CAAhB,CACA9B,KAAK,CAAC6F,aAAN,CAAoBG,KAAK,CAACF,OAA1B,EACH,CACJ,CAPL,uBAQI,2BAAC,+BAAD,EAAc,OAAO,cAAE,4BAAC,6BAAD,EAAY,OAAO,CAAC,KAApB,CAA0B,KAAK,CAAE,CAACK,UAAU,CAAC,YAAZ,CAA0BzC,QAAQ,CAAC,MAAnC,CAA2CY,KAAK,CAAE0B,KAAK,CAACE,MAAN,GAAiB,OAAjB,CAA2B,OAA3B,CAAqC,KAAvF,CAAjC,sBACVF,KAAK,CAACE,MADI,cAEf,mCAFe,GAAvB,CAIA,SAAS,cACT,4BAAC,6BAAD,EAAY,KAAK,CAAE,CAAE5B,KAAK,CAAE,OAAT,CAAkB6B,UAAU,CAAC,YAA7B,CAA2CC,MAAM,CAAC,IAAlD,CAAwD1C,QAAQ,CAAC,KAAjE,CAAnB,uCAEA,mCAFA,CAGEsC,KAAK,CAACK,UAHR,GALA,EARJ,EAESvE,KAFT,CADJ,CAqBH,CA1BL,EADJ,EADJ,CAgCH,C;;ACnDc,QAASwE,qBAAT,CAA8BtG,KAA9B,CAAqC,CAEhD,cAAsCC,yBAAQ,EAA9C,kEAAOsG,WAAP,eAAoBC,cAApB,eAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAAAC,KAAK,CAAI,CAC3BF,cAAc,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAd,CACH,CAFD,CAIA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvB,GAAIN,WAAW,GAAKlG,SAApB,CAA+B,CAC3BL,KAAK,CAAC8G,QAAN,CAAeP,WAAf,EACAC,cAAc,CAACnG,SAAD,CAAd,CACH,CACJ,CALD,CAOA,GAAM0G,aAAY,CAAG,CAChBC,OAAO,CAAE,OADO,CAEhBC,MAAM,CAAE,SAFQ,CAGhBC,OAAO,CAAE,MAHO,CAIhBtD,MAAM,CAAE,MAJQ,CAKhBK,eAAe,CAAE,OALD,CAMhBH,KAAK,CAAE,OANS,CAOhBqD,MAAM,CAAE,MAPQ,CAQhB1D,YAAY,CAAE,MARE,CAShBC,QAAQ,CAAE,MATM,CAUhBC,UAAU,CAAE,KAVI,CAWhBW,KAAK,CAAE,OAXS,CAYhB8C,cAAc,CAAE,WAZA,CAahB;AACAC,YAAY,CAAE,KAdE,CAArB,CAiBA,GAAMC,iBAAgB,CAAG,CACpBN,OAAO,CAAE,OADW,CAEpBC,MAAM,CAAE,SAFY,CAGpBC,OAAO,CAAE,MAHW,CAIpBtD,MAAM,CAAE,MAJY,CAKpBK,eAAe,CAAE,OALG,CAMpBH,KAAK,CAAE,OANa,CAOpBqD,MAAM,CAAE,MAPY,CAQpB1D,YAAY,CAAE,MARM,CASpBC,QAAQ,CAAE,SATU,CAUpBC,UAAU,CAAE,KAVQ,CAWpBW,KAAK,CAAE,OAXa,CAYpB8C,cAAc,CAAE,WAZI,CAapB;AACAC,YAAY,CAAE,KAdM,CAAzB,CAiBA,mBACI,0DACI,kCAAK,KAAK,CAAEN,YAAZ,CAA0B,KAAK,CAAC,kBAAhC,uBACI,oCAAO,KAAK,CAAEO,gBAAd,CAAgC,IAAI,CAAC,MAArC,CAA4C,IAAI,CAAC,MAAjD,CAAwD,QAAQ,CAAEb,aAAlE,EADJ,EADJ,cAKI,qCAAQ,KAAK,CAAEM,YAAf,CAA6B,OAAO,CAAEF,YAAtC,4BALJ,GADJ,CASH,C;;AC1Dc,QAASU,sBAAT,CAA+BvH,KAA/B,CAAsC,CACjD,cAAoCC,yBAAQ,EAA5C,kEAAKsG,WAAL,eAAkBC,cAAlB,eACA,eAAgCvG,yBAAQ,EAAxC,mEAAKuH,SAAL,eAAgBC,YAAhB,eAEA,GAAMhB,cAAa,CAAG,QAAhBA,cAAgB,CAACC,KAAD,CAAW,CAC7BF,cAAc,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAd,CACH,CAFD,CAGA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACvB,GAAIN,WAAW,GAAKlG,SAApB,CAA+B,CAC3BL,KAAK,CAAC8G,QAAN,CAAeP,WAAf,CAA4BiB,SAA5B,EACAjB,WAAW,CAAGlG,SAAd,CACH,CAHD,IAIK,CACD;AACH,CACJ,CARD,CAUA,GAAM0G,aAAY,CAAG,CAChBC,OAAO,CAAE,OADO,CAEhBC,MAAM,CAAE,SAFQ,CAGhBC,OAAO,CAAE,MAHO,CAIhBtD,MAAM,CAAE,MAJQ,CAKhBK,eAAe,CAAE,OALD,CAMhBH,KAAK,CAAE,OANS,CAOhBqD,MAAM,CAAE,MAPQ,CAQhB1D,YAAY,CAAE,MARE,CAShBC,QAAQ,CAAE,MATM,CAUhBC,UAAU,CAAE,KAVI,CAWhBW,KAAK,CAAE,OAXS,CAYhB8C,cAAc,CAAE,WAZA,CAahB;AACAC,YAAY,CAAE,KAdE,CAArB,CAiBA,GAAMC,iBAAgB,CAAG,CACpBN,OAAO,CAAE,OADW,CAEpBC,MAAM,CAAE,SAFY,CAGpBC,OAAO,CAAE,MAHW,CAIpBtD,MAAM,CAAE,MAJY,CAKpBK,eAAe,CAAE,OALG,CAMpBH,KAAK,CAAE,OANa,CAOpBqD,MAAM,CAAE,MAPY,CAQpB1D,YAAY,CAAE,MARM,CASpBC,QAAQ,CAAE,SATU,CAUpBC,UAAU,CAAE,KAVQ,CAWpBW,KAAK,CAAE,OAXa,CAYpB8C,cAAc,CAAE,WAZI,CAapB;AACAC,YAAY,CAAE,KAdM,CAAzB,CAiBA,mBACI,0DACI,mCAAK,QAAQ,CAAE,kBAAAX,KAAK,QAAIe,aAAY,CAACf,KAAK,CAACC,MAAN,CAAae,KAAd,CAAhB,EAApB,wBACI,oCAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAC,YAA1B,CAAuC,IAAI,CAAC,WAA5C,EADJ,2BAEI,oCAAO,IAAI,CAAC,OAAZ,CAAoB,KAAK,CAAC,QAA1B,CAAmC,IAAI,CAAC,WAAxC,EAFJ,YADJ,cAKI,kCAAK,KAAK,CAAEX,YAAZ,CAA0B,SAAS,CAAC,kBAApC,uBACI,oCAAO,KAAK,CAAEO,gBAAd,CAAgC,IAAI,CAAC,MAArC,CAA4C,IAAI,CAAC,MAAjD,CAAwD,QAAQ,CAAEb,aAAlE,EADJ,EALJ,cASI,qCAAQ,KAAK,CAAEM,YAAf,CAA6B,OAAO,CAAEF,YAAtC,yBATJ,GADJ,CAaH,C;;;;;AC7Dc,QAASc,gBAAT,CAAyB3H,KAAzB,CAAgC,CAC3C,cAAsCC,yBAAQ,CAAC,CAAD,CAA9C,kEAAO2H,WAAP,eAAoBC,cAApB,eAEA,GAAID,WAAW,GAAK,CAApB,CAAuB,CACnB,GAAIE,UAAS,cAAG,2BAAC,qBAAD,EAAuB,QAAQ,CAAE9H,KAAK,CAAC+H,aAAvC,EAAhB,CACH,CAFD,IAGK,CACDD,SAAS,cAAG,2BAAC,oBAAD,EAAsB,QAAQ,CAAE9H,KAAK,CAACgI,eAAtC,EAAZ,CACH,CAED,mBACI,0DACI,2BAAC,yBAAD,EAAQ,IAAI,CAAC,KAAb,CAAmB,QAAQ,CAAE,0BAAMH,eAAc,CAAC,CAACD,WAAW,CAAG,CAAf,EAAoB,CAArB,CAApB,EAA7B,EADJ,CAEKE,SAFL,GADJ,CAMH,C;;ACdc,QAASG,IAAT,EAAe,CAE5B,cAA4ChI,yBAAQ,CAAC,CAAD,CAApD,kEAAOiI,cAAP,eAAuBC,iBAAvB,eACA,eAA8ClI,yBAAQ,EAAtD,mEAAOmI,eAAP,eAAwBC,kBAAxB,eACA,eAAwDpI,yBAAQ,EAAhE,mEAAOqI,oBAAP,eAA6BC,uBAA7B,eAEA,mBACE,0DACE,kCAAK,KAAK,CAAE,CAAEvG,QAAQ,CAAE,OAAZ,CAAqB8B,KAAK,CAAE,KAA5B,CAAmC0E,SAAS,CAAE,QAA9C,CAAwDtG,GAAG,CAAE,IAA7D,CAAmEuG,MAAM,CAAE,KAA3E,CAAkFxG,IAAI,CAAE,KAAxF,CAAZ,uBACI,2BAAC,MAAD,EAAQ,aAAa,CAAE,uBAAA6D,OAAO,CAAI,CAChCqC,iBAAiB,CAACrC,OAAD,CAAjB,CAEA,GAAIwC,oBAAoB,GAAKjI,SAA7B,CAAwC,CACtCqF,KAAK,CAAC,yBAA2BI,OAA5B,CAAqC,CACxC4C,MAAM,CAAE,MADgC,CAExC3F,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF+B,CAGxC4F,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeT,eAAf,CAHkC,CAArC,CAAL,CAKCzC,IALD,CAKM,SAAAC,QAAQ,QAAIA,SAAQ,CAACzC,IAAT,EAAJ,EALd,EAMCwC,IAND,CAMM,SAAA7E,SAAS,QAAIyH,wBAAuB,CAACzH,SAAS,CAACA,SAAX,CAA3B,EANf,EAOD,CACF,CAZD,CAaA,UAAU,CAAE,CAACsH,eAAD,CAbZ,EADJ,EADF,cAkBE,kCAAK,KAAK,CAAE,CAAEpG,QAAQ,CAAE,OAAZ,CAAqB8B,KAAK,CAAE,KAA5B,CAAmC5B,GAAG,CAAE,IAAxC,CAAZ,uBACE,2BAAC,MAAD,EAAQ,IAAI,CAAEkG,eAAd,CAA+B,SAAS,CAAEE,oBAA1C,EADF,EAlBF,cAsBE,kCAAK,KAAK,CAAE,CAAEtG,QAAQ,CAAE,OAAZ,CAAqB8B,KAAK,CAAE,KAA5B,CAAmCqD,MAAM,CAAE,KAA3C,CAAkDqB,SAAS,CAAE,QAA7D,CAAuEC,MAAM,CAAE,IAA/E,CAAqFK,KAAK,CAAE,KAA5F,CAAZ,uBACE,2BAAC,KAAD,EAAO,IAAI,CAAEV,eAAb,CAA8B,SAAS,CAAEE,oBAAzC,EADF,EAtBF,cA0BE,kCAAK,KAAK,CAAE,CAAEtG,QAAQ,CAAE,OAAZ,CAAqByG,MAAM,CAAE,IAA7B,CAAmCK,KAAK,CAAE,IAA1C,CAAZ,uBACE,2BAAC,eAAD,EACE,aAAa,sHAAE,iBAAO1G,IAAP,CAAaoF,SAAb,mJACMrF,iBAAgB,CAACC,IAAD,CADtB,QACPe,IADO,eAEbuC,KAAK,CAAC,cAAgB8B,SAAjB,CAA4B,CAC/BkB,MAAM,CAAE,MADuB,CAE/B3F,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFsB,CAG/B4F,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe1F,IAAf,CAHyB,CAA5B,CAAL,CAMAkF,kBAAkB,CAAClF,IAAD,CAAlB,CACAoF,uBAAuB,CAAClI,SAAD,CAAvB,CATa,sDAAF,kEADf,CAYE,eAAe,uHAAE,kBAAM+B,IAAN,2KACID,iBAAgB,CAACC,IAAD,CADpB,QACTe,IADS,uCAEQuC,MAAK,CAAC,yBAA2BwC,cAA5B,CAA4C,CACtEQ,MAAM,CAAE,MAD8D,CAEtE3F,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAF6D,CAGtE4F,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe1F,IAAf,CAHgE,CAA5C,CAFb,QAETyC,QAFS,uCAOSA,SAAQ,CAACzC,IAAT,EAPT,QAOTrC,SAPS,gBASfyH,uBAAuB,CAACzH,SAAS,CAACA,SAAX,CAAvB,CACAuH,kBAAkB,CAAClF,IAAD,CAAlB,CAVe,yDAAF,gEAZjB,EADF,EA1BF,GADF,CAwDD,C;;ACjED4F,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACE,2BAAC,GAAD,IADF,EADF,CAIEC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,E","file":"x","sourcesContent":["import {useState} from 'react';\nimport {Line} from 'react-chartjs-2';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { FixedSizeList } from 'react-window';\n\nexport default function Graphs(props) {\n\tconst [currentProperty, setCurrentProperty] = useState();\n\n\tif (props.data === undefined || props.data.length === 0) {\n\t\treturn (\n\t\t\t'Please enter a file for training a model or for anomaly detection'\n\t\t);\n\t}\n\n\tlet data = {\n\t\tlabels: Array.from(Array(Object.values(props.data)[0].length).keys()),\n\t\tdatasets: []\n\t};\n\n\tif (currentProperty === undefined || props.anomalies === undefined\n\t\t|| (props.anomalies !== undefined && currentProperty !== undefined && props.anomalies[currentProperty].length === 0)) {\n\t\tdata.datasets.push({\n\t\t\tlabel: (currentProperty === undefined ? 'Please choose a property to show' : currentProperty),\n\t\t\tdata: props.data[currentProperty],\n\t\t\tborderColor: 'gray'\n\t\t});\n\t}\n\telse if (currentProperty !== undefined && props.anomalies[currentProperty].length > 0) {\n\t\tlet anomalies = [...props.anomalies[currentProperty]];\n\n\t\tfor (let i = 0; i < anomalies.length; ++i) {\n\t\t\tfor (let j = 0; j < anomalies.length - i; ++j) {\n\t\t\t\tif (anomalies[j].end < anomalies[i].start) {\n\t\t\t\t\tlet temp = anomalies[i];\n\t\t\t\t\tanomalies[i] = anomalies[j];\n\t\t\t\t\tanomalies[j] = temp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet anomalyPoints = [0];\n\t\tanomalies.forEach(anomaly => {\n\t\t\tanomalyPoints.push(anomaly.start);\n\t\t\tanomalyPoints.push(anomaly.end);\n\t\t})\n\t\tanomalyPoints.push(props.data[currentProperty].length - 1);\n\n\t\tlet i = 0;\n\t\tfor (; i < anomalyPoints.length - 2; i += 2) {\n\t\t\tdata.datasets.push({\n\t\t\t\tlabel: currentProperty,\n\t\t\t\tdata: Array(anomalyPoints[i]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i], anomalyPoints[i + 1])),\n\t\t\t\tborderColor: 'gray'\n\t\t\t});\n\t\t\tdata.datasets.push({\n\t\t\t\tlabel: currentProperty,\n\t\t\t\tdata: Array(anomalyPoints[i + 1]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i + 1], anomalyPoints[i + 2])),\n\t\t\t\tborderColor: 'red'\n\t\t\t});\n\t\t}\n\t\tdata.datasets.push({\n\t\t\tlabel: (currentProperty === undefined ? 'Please choose a property to show' : currentProperty),\n\t\t\tdata: Array(anomalyPoints[i]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i], anomalyPoints[i + 1])),\n\t\t\tborderColor: 'gray'\n\t\t});\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<FixedSizeList height={400} width={210} itemSize={80} itemCount={Object.keys(props.data).length}>\n\t\t\t\t{itemProps => {\n\t\t\t\t\tconst { index, style } = itemProps;\n\t\t\t\t\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ListItem button selected={currentProperty === Object.keys(props.data)[index]} style={style} key={index} onClick={() => setCurrentProperty(Object.keys(props.data)[index])}>\n\t\t\t\t\t\t\t<ListItemText primary={Object.keys(props.data)[index]} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</FixedSizeList>\n\n\t\t\t<Line style={{position: 'fixed', left: '20%', top: '3%'}} data={data} />\n\t\t</div>\n\t);\n}","export function convertCSVToJSON(file) {\n  return new Promise((resolve) => {\n    var reader = new FileReader();\n\n    reader.onload = () => {\n      let lines = reader.result.split(\"\\n\");\n      let lastLine = lines[lines.length - 1];\n      if (lastLine === '') {\n        lines.pop();\n      }\n      let result = {};\n\n      let headers = lines[0].split(\",\");\n      for (let i = 0; i < headers.length; ++i) {\n        result[headers[i]] = [];\n      }\n\n      for (let i = 1; i < lines.length; ++i) {\n        let currentline = lines[i].split(\",\");\n\n        for (let j = 0; j < headers.length; ++j) {\n          result[headers[j]].push(currentline[j]);\n        }\n      }\n\n      resolve(result);\n    }\n\n    reader.readAsText(file);\n  });\n}\n\nexport function convertJSONToLines(json) {\n  if (json === undefined || json.length === 0) {\n    return [];\n  }\n  \n  let lines = [];\n\n  lines.push(Object.keys(json));\n\n  for (let i = 1; i <= Object.values(json)[0].length; ++i) {\n    lines[i] = [];\n  }\n\n  lines[0].forEach(key => {\n    const values = json[key];\n\n    for (let j = 1; j <= values.length; ++j) {\n      lines[j].push(values[j]);\n    }\n  });\n\n  return lines;\n}","import React, { useState } from 'react'\nimport { convertJSONToLines } from './utils';\n\nexport default function Table(props) {\n    const [result,setResult] = useState();\n    \n    const getKeys = (data) => {\n        if (data === undefined || data.length === 0) {\n            return [];\n        }\n        \n        return data[0];\n    }\n\n    const table = {\n        borderRadius: \"30px\",\n        fontSize: \"20px\",\n        fontWeight: \"normal\",\n        border: \"none\",\n        borderCollapse: \"collapse\",\n        width: \"100%\",\n        maxWidth: \"100%\",\n        whiteSpace: \"nowrap\",\n        backgroundColor: \"white\",\n        borderSpacing: \"10px\",\n        textAlign: \"center\",\n        columnWidth: \"100px\"\n    };\n\n    const thead = {\n        color: \"#ffffff\",\n        background: \"#000000\",\n    };\n    const tbody = {\n        color: \"#000000\",\n        background: \"ffffff\",\n    };\n\n    const getHeader = (data) => {\n        var keys = getKeys(data);\n        return keys.map((key, index) => {\n            return <th key={key}>{key.toUpperCase()}</th>\n        })\n    }\n\n    const getColor=(row,col,data)=>{\n        if (props.anomalies===undefined){\n            return 'white';\n        }\n        let key=getKeys(data)[col];\n        for (let span of props.anomalies[key]){\n            if (row>=span.start&&row<=span.end){\n                return 'red';\n            }\n        }\n        return 'green';\n    }\n\n    const RenderRow = (row, rowIndex,data) => {\n        return row.map((key, index) => {\n            return <td style={{backgroundColor: getColor(rowIndex,index,data)}} >{key}</td>\n        })\n    }\n\n    const getRowsData = (data) => {\n        return data.slice(1).map((row, index) => {\n            return <tr key={index}>\n                {RenderRow(row,index,data)}\n            </tr>\n        })\n    }\n    if (props.data===undefined){\n        return null;\n    }\n    if (!result || result.length==0){\n        setTimeout(() => {\n            const data=convertJSONToLines(props.data);\n            setResult(<div>\n                <table style = {table} cellpadding=\"10\">\n                    <thead style = {thead}>\n                        <tr>{getHeader(data)}</tr>\n                    </thead>\n                    <tbody style = {tbody}>\n                        {getRowsData(data)}\n                    </tbody>\n                </table>\n            </div>);\n        }, 1);\n\n        return <h1>Loading...</h1>\n    }\n    \n    return (\n        result\n    );\n}","import { useState, useEffect } from 'react';\nimport Typography from '@material-ui/core/Typography'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { FixedSizeList } from 'react-window';\n\nexport default function Models(props) {\n    const [modelsList, setModelsList] = useState([]);\n    const [selectedIndex, setSelectedIndex] = useState();\n    \n    useEffect(() => fetch('/api/models')\n        .then(response => response.json())\n        .then(json => {\n            setModelsList(json);\n\n            if (selectedIndex  === undefined && json.length > 0) {\n                setSelectedIndex(0);\n                props.onModelSelect(json[0].modelId);\n            }\n        }), [...props.dependency]);\n\n    return (\n        <div>\n            <FixedSizeList height={500} width={250} itemSize={130} itemCount={modelsList.length}>\n                {itemProps => {\n                    const { index, style } = itemProps;\n                    const model = modelsList[index];\n\n                    return (\n                        <ListItem button selected={selectedIndex === index}\n                            style={Object.assign({}, style, {'borderColor': model.status === 'ready' ? 'green' : 'red' })}\n                            key={index} onClick={() => {\n                                if (model.status === 'ready') {\n                                    setSelectedIndex(index);\n                                    props.onModelSelect(model.modelId);\n                                }\n                            }}>\n                            <ListItemText primary={<Typography variant=\"h10\" style={{fontFamily:'sans-serif', fontSize:'130%', color: model.status === 'ready' ? 'green' : 'red' }}>\n                                Status: {model.status}\n                                    <br />\n                            </Typography>}\n                            secondary={\n                            <Typography style={{ color: 'black', fontFamily:'sans-serif', margin:'5%', fontSize:'80%' }}>\n                            Upload Time:\n                            <br/>\n                             {model.uploadTime}\n                            </Typography>}/>\n                        </ListItem>\n                    );\n                }}\n            </FixedSizeList>\n        </div>\n    )\n}\n","import {useState} from 'react'\n\nexport default function AnomalyFileUploadBox(props) {\n\n    const [currentFile, setCurrentFile] = useState();\n    \n    const changeHandler = event => {\n        setCurrentFile(event.target.files[0]);\n    };\n\n    const onSubmission = () => {\n        if (currentFile !== undefined) {\n            props.onUpload(currentFile);\n            setCurrentFile(undefined);\n        }\n    };\n\n    const buttonDesign = {\n         display: \"block\",\n         cursor: \"pointer\",\n         outline: \"none\",\n         border: \"none\",\n         backgroundColor: \"black\",\n         width: \"180px\",\n         height: \"23px\",\n         borderRadius: \"10px\",\n         fontSize: \"1rem\",\n         fontWeight: \"200\",\n         color: \"white\",\n         backgroundSize: \"100% 100%\",\n         //boxShadow: \"0 0 0 7px var(--light) inset\",\n         marginBottom: \"5px\"\n    }\n\n    const fileUploadDesign = {\n         display: \"block\",\n         cursor: \"pointer\",\n         outline: \"none\",\n         border: \"none\",\n         backgroundColor: \"black\",\n         width: \"180px\",\n         height: \"23px\",\n         borderRadius: \"10px\",\n         fontSize: \"0.84rem\",\n         fontWeight: \"200\",\n         color: \"white\",\n         backgroundSize: \"100% 100%\",\n         //boxShadow: \"0 0 0 7px var(--light) inset\",\n         marginBottom: \"5px\"\n    }\n\n    return (\n        <div>\n            <div style={buttonDesign} class=\"form-group files\">\n                <input style={fileUploadDesign} type=\"file\" name=\"file\" onChange={changeHandler} />\n            </div>\n            \n            <button style={buttonDesign} onClick={onSubmission}>Detect anomaly</button>\n        </div>\n    )\n}","import React, { useState } from 'react'\n\nexport default function TrainingFileUploadBox(props) {\n    var [currentFile, setCurrentFile] = useState();\n    var [algorithm, setAlgorithm] = useState();\n\n    const changeHandler = (event) => {\n        setCurrentFile(event.target.files[0]);\n    }\n    const onSubmission = () => {\n        if (currentFile !== undefined) {\n            props.onUpload(currentFile, algorithm);\n            currentFile = undefined;\n        }\n        else {\n            // there isnt a file to upload\n        }\n    }\n\n    const buttonDesign = {\n         display: \"block\",\n         cursor: \"pointer\",\n         outline: \"none\",\n         border: \"none\",\n         backgroundColor: \"black\",\n         width: \"180px\",\n         height: \"23px\",\n         borderRadius: \"10px\",\n         fontSize: \"1rem\",\n         fontWeight: \"200\",\n         color: \"white\",\n         backgroundSize: \"100% 100%\",\n         //boxShadow: \"0 0 0 7px var(--light) inset\",\n         marginBottom: \"5px\"\n    }\n\n    const fileUploadDesign = {\n         display: \"block\",\n         cursor: \"pointer\",\n         outline: \"none\",\n         border: \"none\",\n         backgroundColor: \"black\",\n         width: \"180px\",\n         height: \"23px\",\n         borderRadius: \"10px\",\n         fontSize: \"0.84rem\",\n         fontWeight: \"200\",\n         color: \"white\",\n         backgroundSize: \"100% 100%\",\n         //boxShadow: \"0 0 0 7px var(--light) inset\",\n         marginBottom: \"5px\"\n    }\n\n    return (\n        <div>\n            <div onChange={event => setAlgorithm(event.target.value)}>\n                <input type=\"radio\" value=\"regression\" name=\"algorithm\" />Regression\n                <input type=\"radio\" value=\"hybrid\" name=\"algorithm\" />Hybrid\n            </div>\n            <div style={buttonDesign} className=\"form-group files\">\n                <input style={fileUploadDesign} type=\"file\" name=\"file\" onChange={changeHandler} />\n            </div>\n            \n            <button style={buttonDesign} onClick={onSubmission}>Train model</button>\n        </div>\n    )\n}","import {useState} from 'react';\nimport AnomalyFileUploadBox from './AnomalyFileUploadBox';\nimport TrainingFileUploadBox from './TrainingFileUploadBox';\nimport Switch from '@material-ui/core/Switch';\n\nexport default function FileUploadPanel(props) {\n    const [currentMode, setCurrentMode] = useState(0);\n    \n    if (currentMode === 0) {\n        var uploadBox = <TrainingFileUploadBox onUpload={props.onUploadTrain} />;\n    }\n    else {\n        uploadBox = <AnomalyFileUploadBox onUpload={props.onUploadAnomaly} />\n    }\n\n    return (\n        <div>\n            <Switch edge=\"end\" onChange={() => setCurrentMode((currentMode + 1) % 2)} />\n            {uploadBox}\n        </div>\n    )\n}","import { useState } from 'react';\nimport Graphs from './Graphs';\nimport Table from './Table';\nimport Models from './Models';\nimport FileUploadPanel from './FileUploadPanel';\nimport { convertCSVToJSON } from './utils';\n\nexport default function App() {\n\n  const [currentModelId, setCurrentModelId] = useState(0);\n  const [currentDataJSON, setCurrentDataJSON] = useState();\n  const [currentDataAnomalies, setCurrentDataAnomalies] = useState();\n\n  return (\n    <div>\n      <div style={{ position: 'fixed', width: '20%', overflowY: 'scroll', top: '5%', bottom: '20%', left: '83%' }}>\n          <Models onModelSelect={modelId => {\n            setCurrentModelId(modelId);\n\n            if (currentDataAnomalies !== undefined) {\n              fetch('/api/anomaly?model_id=' + modelId, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(currentDataJSON)\n              })\n              .then(response => response.json())\n              .then(anomalies => setCurrentDataAnomalies(anomalies.anomalies));\n            }\n          }} \n          dependency={[currentDataJSON]} />\n      </div>\n\n      <div style={{ position: 'fixed', width: '62%', top: '5%' }}>\n        <Graphs data={currentDataJSON} anomalies={currentDataAnomalies} />\n      </div>\n\n      <div style={{ position: 'fixed', width: '80%', height: '30%', overflowY: 'scroll', bottom: '0%', right: '18%' }}>\n        <Table data={currentDataJSON} anomalies={currentDataAnomalies} />\n      </div>\n\n      <div style={{ position: 'fixed', bottom: '5%', right: '5%' }} >\n        <FileUploadPanel\n          onUploadTrain={async (file, algorithm) => {\n            const json = await convertCSVToJSON(file);\n            fetch('/api/model/' + algorithm, {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(json)\n            });\n\n            setCurrentDataJSON(json);\n            setCurrentDataAnomalies(undefined);\n          }}\n          onUploadAnomaly={async file => {\n            const json = await convertCSVToJSON(file);\n            const response = await fetch('/api/anomaly?model_id=' + currentModelId, {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(json)\n            });\n            const anomalies = await response.json();\n\n            setCurrentDataAnomalies(anomalies.anomalies);\n            setCurrentDataJSON(json);\n          }}\n        />\n      </div>\n    </div>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}