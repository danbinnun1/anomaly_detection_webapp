{"ast":null,"code":"import _toConsumableArray from\"/home/yonatan/Projects/anomaly_detection_webapp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/yonatan/Projects/anomaly_detection_webapp/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from'react';import{Line}from'react-chartjs-2';import ListItem from'@material-ui/core/ListItem';import ListItemText from'@material-ui/core/ListItemText';import{FixedSizeList}from'react-window';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Graphs(props){var _useState=useState(),_useState2=_slicedToArray(_useState,2),currentProperty=_useState2[0],setCurrentProperty=_useState2[1];if(props.data===undefined||props.data.length===0){return'Please enter a file for training a model or for anomaly detection';}var data={labels:Array.from(Array(Object.values(props.data)[0].length).keys()),datasets:[]};if(currentProperty===undefined||props.anomalies===undefined||props.anomalies!==undefined&&currentProperty!==undefined&&props.anomalies[currentProperty].length===0){data.datasets.push({label:currentProperty===undefined?'Please choose a property to show':currentProperty,data:props.data[currentProperty],borderColor:'gray'});}else if(currentProperty!==undefined&&props.anomalies[currentProperty].length>0){var anomalies=_toConsumableArray(props.anomalies[currentProperty]);for(var _i=0;_i<anomalies.length;++_i){for(var j=0;j<anomalies.length-_i;++j){if(anomalies[j].end<anomalies[_i].start){var temp=anomalies[_i];anomalies[_i]=anomalies[j];anomalies[j]=temp;}}}var anomalyPoints=[0];anomalies.forEach(function(anomaly){anomalyPoints.push(anomaly.start);anomalyPoints.push(anomaly.end);});anomalyPoints.push(props.data[currentProperty].length-1);var i=0;for(;i<anomalyPoints.length-2;i+=2){data.datasets.push({label:currentProperty,data:Array(anomalyPoints[i]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i],anomalyPoints[i+1])),borderColor:'gray'});data.datasets.push({label:currentProperty,data:Array(anomalyPoints[i+1]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i+1],anomalyPoints[i+2])),borderColor:'red'});}data.datasets.push({label:currentProperty===undefined?'Please choose a property to show':currentProperty,data:Array(anomalyPoints[i]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i],anomalyPoints[i+1])),borderColor:'gray'});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FixedSizeList,{height:400,width:210,itemSize:80,itemCount:Object.keys(props.data).length,children:function children(itemProps){var index=itemProps.index,style=itemProps.style;return/*#__PURE__*/_jsx(ListItem,{button:true,selected:currentProperty===Object.keys(props.data)[index],style:style,onClick:function onClick(){return setCurrentProperty(Object.keys(props.data)[index]);},children:/*#__PURE__*/_jsx(ListItemText,{primary:Object.keys(props.data)[index]})},index);}}),/*#__PURE__*/_jsx(Line,{style:{position:'fixed',left:'20%',top:'3%'},data:data})]});}","map":{"version":3,"sources":["/home/yonatan/Projects/anomaly_detection_webapp/frontend/src/Graphs.js"],"names":["useState","Line","ListItem","ListItemText","FixedSizeList","Graphs","props","currentProperty","setCurrentProperty","data","undefined","length","labels","Array","from","Object","values","keys","datasets","anomalies","push","label","borderColor","i","j","end","start","temp","anomalyPoints","forEach","anomaly","fill","concat","slice","itemProps","index","style","position","left","top"],"mappings":"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","sourcesContent":["import {useState} from 'react';\nimport {Line} from 'react-chartjs-2';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { FixedSizeList } from 'react-window';\n\nexport default function Graphs(props) {\n\tconst [currentProperty, setCurrentProperty] = useState();\n\n\tif (props.data === undefined || props.data.length === 0) {\n\t\treturn (\n\t\t\t'Please enter a file for training a model or for anomaly detection'\n\t\t);\n\t}\n\n\tlet data = {\n\t\tlabels: Array.from(Array(Object.values(props.data)[0].length).keys()),\n\t\tdatasets: []\n\t};\n\n\tif (currentProperty === undefined || props.anomalies === undefined\n\t\t|| (props.anomalies !== undefined && currentProperty !== undefined && props.anomalies[currentProperty].length === 0)) {\n\t\tdata.datasets.push({\n\t\t\tlabel: (currentProperty === undefined ? 'Please choose a property to show' : currentProperty),\n\t\t\tdata: props.data[currentProperty],\n\t\t\tborderColor: 'gray'\n\t\t});\n\t}\n\telse if (currentProperty !== undefined && props.anomalies[currentProperty].length > 0) {\n\t\tlet anomalies = [...props.anomalies[currentProperty]];\n\n\t\tfor (let i = 0; i < anomalies.length; ++i) {\n\t\t\tfor (let j = 0; j < anomalies.length - i; ++j) {\n\t\t\t\tif (anomalies[j].end < anomalies[i].start) {\n\t\t\t\t\tlet temp = anomalies[i];\n\t\t\t\t\tanomalies[i] = anomalies[j];\n\t\t\t\t\tanomalies[j] = temp;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tlet anomalyPoints = [0];\n\t\tanomalies.forEach(anomaly => {\n\t\t\tanomalyPoints.push(anomaly.start);\n\t\t\tanomalyPoints.push(anomaly.end);\n\t\t})\n\t\tanomalyPoints.push(props.data[currentProperty].length - 1);\n\n\t\tlet i = 0;\n\t\tfor (; i < anomalyPoints.length - 2; i += 2) {\n\t\t\tdata.datasets.push({\n\t\t\t\tlabel: currentProperty,\n\t\t\t\tdata: Array(anomalyPoints[i]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i], anomalyPoints[i + 1])),\n\t\t\t\tborderColor: 'gray'\n\t\t\t});\n\t\t\tdata.datasets.push({\n\t\t\t\tlabel: currentProperty,\n\t\t\t\tdata: Array(anomalyPoints[i + 1]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i + 1], anomalyPoints[i + 2])),\n\t\t\t\tborderColor: 'red'\n\t\t\t});\n\t\t}\n\t\tdata.datasets.push({\n\t\t\tlabel: (currentProperty === undefined ? 'Please choose a property to show' : currentProperty),\n\t\t\tdata: Array(anomalyPoints[i]).fill(null).concat(props.data[currentProperty].slice(anomalyPoints[i], anomalyPoints[i + 1])),\n\t\t\tborderColor: 'gray'\n\t\t});\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<FixedSizeList height={400} width={210} itemSize={80} itemCount={Object.keys(props.data).length}>\n\t\t\t\t{itemProps => {\n\t\t\t\t\tconst { index, style } = itemProps;\n\t\t\t\t\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ListItem button selected={currentProperty === Object.keys(props.data)[index]} style={style} key={index} onClick={() => setCurrentProperty(Object.keys(props.data)[index])}>\n\t\t\t\t\t\t\t<ListItemText primary={Object.keys(props.data)[index]} />\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</FixedSizeList>\n\n\t\t\t<Line style={{position: 'fixed', left: '20%', top: '3%'}} data={data} />\n\t\t</div>\n\t);\n}"]},"metadata":{},"sourceType":"module"}